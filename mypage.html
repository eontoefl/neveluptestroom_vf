<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>마이페이지 – 학습 현황</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" />
  <link rel="stylesheet" href="css/mypage-style.css" />
  <link rel="stylesheet" href="css/mypage-grass-fast.css" />
  <link rel="stylesheet" href="css/mypage-grass-standard.css" />
</head>
<body>

  <!-- ───────────── TOP BAR ───────────── -->
  <nav class="mp-topbar">
    <button class="mp-back-btn" onclick="goBackToTestroom()">
      <i class="fa-solid fa-arrow-left"></i>
      <span>학습으로 돌아가기</span>
    </button>
    <span class="mp-topbar-title">마이페이지</span>
    <button class="mp-logout-btn" onclick="handleLogout()">
      <i class="fa-solid fa-right-from-bracket"></i>
    </button>
  </nav>

  <!-- ───────────── LOADING ───────────── -->
  <div class="mp-loading" id="loadingScreen">
    <div class="mp-spinner"></div>
    <p>학습 데이터를 불러오는 중...</p>
  </div>

  <!-- ───────────── NOT LOGGED IN ───────────── -->
  <div class="mp-not-logged" id="notLoggedScreen" style="display:none;">
    <i class="fa-solid fa-lock" style="font-size:3rem; color:var(--signature); margin-bottom:16px;"></i>
    <h2>로그인이 필요합니다</h2>
    <p>테스트룸에서 먼저 로그인해주세요.</p>
    <button class="mp-cta-btn" onclick="goBackToTestroom()">
      <i class="fa-solid fa-arrow-right"></i> 테스트룸으로 이동
    </button>
  </div>

  <!-- ───────────── MAIN ───────────── -->
  <main class="page-wrap" id="mainContent" style="display:none;">

    <!-- 사용자 정보 -->
    <div class="user-info-card">
      <i class="fas fa-user-circle"></i>
      <span><strong id="userName">-</strong>님</span>
      <span class="program-badge" id="programBadge">-</span>
    </div>

    <!-- ① 학습 현황 요약 카드 -->
    <section class="section-block">
      <h2 class="section-title">
        <i class="fa-solid fa-chart-line"></i> 학습 현황 요약
      </h2>

      <div class="summary-grid">

        <!-- 총 학습일 -->
        <div class="summary-card card-blue">
          <div class="sc-icon"><i class="fa-solid fa-calendar-check"></i></div>
          <div class="sc-body">
            <p class="sc-label">총 학습일</p>
            <p class="sc-value"><span id="studyDays">-</span><span class="sc-total" id="studyDaysTotal"> / -일</span></p>
            <div class="progress-bar">
              <div class="progress-fill" id="studyDaysBar" style="width: 0%;"></div>
            </div>
            <p class="sc-sub" id="studyDaysPct">0% 달성</p>
          </div>
        </div>

        <!-- 완료한 과제 -->
        <div class="summary-card card-green">
          <div class="sc-icon"><i class="fa-solid fa-list-check"></i></div>
          <div class="sc-body">
            <p class="sc-label">완료한 과제</p>
            <p class="sc-value"><span id="tasksDone">-</span><span class="sc-total" id="tasksTotal"> / -개</span></p>
            <div class="progress-bar">
              <div class="progress-fill" id="tasksBar" style="width: 0%;"></div>
            </div>
            <p class="sc-sub" id="tasksPct">0% 완료</p>
          </div>
        </div>

        <!-- 현재 등급 -->
        <div class="summary-card card-purple">
          <div class="sc-icon"><i class="fa-solid fa-medal"></i></div>
          <div class="sc-body">
            <p class="sc-label">현재 등급</p>
            <p class="sc-value grade-badge" id="currentGrade">-</p>
            <p class="sc-sub next-grade" id="gradeHint">
              <i class="fa-solid fa-arrow-trend-up"></i>
              <span>데이터 로딩 중...</span>
            </p>
          </div>
        </div>

        <!-- 보증금 환급 예상 -->
        <div class="summary-card card-orange">
          <div class="sc-icon"><i class="fa-solid fa-piggy-bank"></i></div>
          <div class="sc-body">
            <p class="sc-label">보증금 환급 예상</p>
            <p class="sc-value"><span id="refundAmount">-</span><span class="sc-total">원</span></p>
            <p class="sc-sub refund-tag" id="refundStatus">
              <i class="fa-solid fa-circle-check"></i>
              <span>계산 중...</span>
            </p>
          </div>
        </div>

      </div>
    </section>

    <!-- ② 잔디 심기 -->
    <section class="section-block">
      <h2 class="section-title">
        <i class="fa-solid fa-seedling"></i> 출석 잔디
      </h2>

      <!-- 플랜 전환 탭 -->
      <div class="plan-tabs" id="planTabs">
        <button class="plan-tab active" data-plan="fast">Fast · 4주</button>
        <button class="plan-tab" data-plan="standard">Standard · 8주</button>
      </div>

      <!-- ===== FAST (1개월 · 4주) ===== -->
      <div class="grass-wrap" id="grass-fast">
        <p class="section-desc">Fast · 4주 과정 · 주 6일</p>
        <div class="grass-grid grass-fast-grid">
          <!-- 헤더 -->
          <div class="g-label"></div>
          <div class="g-head">일</div>
          <div class="g-head">월</div>
          <div class="g-head">화</div>
          <div class="g-head">수</div>
          <div class="g-head">목</div>
          <div class="g-head">금</div>
          <!-- W1 -->
          <div class="g-label">Week 1</div>
          <div class="g-day g-day-4"><span class="g empty" data-day="1" data-order="1" data-type="voca_test" title="Voca 5-7pg"></span><span class="g empty" data-day="1" data-order="2" data-type="intro_reading" title="Read TOEFL Intro 1/3"></span><span class="g empty" data-day="1" data-order="3" data-type="reading_module" title="Reading Module 1"></span><span class="g empty" data-day="1" data-order="4" data-type="listening_module" title="Listening Module 1"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="2" data-order="1" data-type="voca_test" title="Voca 8-9pg"></span><span class="g empty" data-day="2" data-order="2" data-type="intro_reading" title="Read TOEFL Intro 2/3"></span><span class="g empty" data-day="2" data-order="3" data-type="reading_module" title="Reading Module 2"></span><span class="g empty" data-day="2" data-order="4" data-type="speaking" title="Speaking 1"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="3" data-order="1" data-type="voca_test" title="Voca 10-12pg"></span><span class="g empty" data-day="3" data-order="2" data-type="intro_reading" title="Read TOEFL Intro 3/3"></span><span class="g empty" data-day="3" data-order="3" data-type="listening_module" title="Listening Module 2"></span><span class="g empty" data-day="3" data-order="4" data-type="writing" title="Writing 1"></span></div>
          <div class="g-day g-day-3"><span class="g empty" data-day="4" data-order="1" data-type="voca_test" title="Voca 13-14pg"></span><span class="g empty" data-day="4" data-order="2" data-type="reading_module" title="Reading Module 3"></span><span class="g empty" data-day="4" data-order="3" data-type="writing" title="Writing 2"></span></div>
          <div class="g-day g-day-3"><span class="g empty" data-day="5" data-order="1" data-type="voca_test" title="Voca 15-17pg"></span><span class="g empty" data-day="5" data-order="2" data-type="listening_module" title="Listening Module 3"></span><span class="g empty" data-day="5" data-order="3" data-type="speaking" title="Speaking 2"></span></div>
          <div class="g-day g-day-3"><span class="g empty" data-day="6" data-order="1" data-type="voca_test" title="Voca 18-19pg"></span><span class="g empty" data-day="6" data-order="2" data-type="speaking" title="Speaking 3"></span><span class="g empty" data-day="6" data-order="3" data-type="writing" title="Writing 3"></span></div>
          <!-- W2 -->
          <div class="g-label">Week 2</div>
          <div class="g-day g-day-3"><span class="g empty" data-day="7" data-order="1" data-type="voca_test" title="Voca 20-22pg"></span><span class="g empty" data-day="7" data-order="2" data-type="reading_module" title="Reading Module 4"></span><span class="g empty" data-day="7" data-order="3" data-type="listening_module" title="Listening Module 4"></span></div>
          <div class="g-day g-day-3"><span class="g empty" data-day="8" data-order="1" data-type="voca_test" title="Voca 23-24pg"></span><span class="g empty" data-day="8" data-order="2" data-type="reading_module" title="Reading Module 5"></span><span class="g empty" data-day="8" data-order="3" data-type="speaking" title="Speaking 4"></span></div>
          <div class="g-day g-day-3"><span class="g empty" data-day="9" data-order="1" data-type="voca_test" title="Voca 25-27pg"></span><span class="g empty" data-day="9" data-order="2" data-type="listening_module" title="Listening Module 5"></span><span class="g empty" data-day="9" data-order="3" data-type="writing" title="Writing 4"></span></div>
          <div class="g-day g-day-3"><span class="g empty" data-day="10" data-order="1" data-type="voca_test" title="Voca 28-29pg"></span><span class="g empty" data-day="10" data-order="2" data-type="reading_module" title="Reading Module 6"></span><span class="g empty" data-day="10" data-order="3" data-type="writing" title="Writing 5"></span></div>
          <div class="g-day g-day-3"><span class="g empty" data-day="11" data-order="1" data-type="voca_test" title="Voca 30-32pg"></span><span class="g empty" data-day="11" data-order="2" data-type="listening_module" title="Listening Module 6"></span><span class="g empty" data-day="11" data-order="3" data-type="speaking" title="Speaking 5"></span></div>
          <div class="g-day g-day-3"><span class="g empty" data-day="12" data-order="1" data-type="voca_test" title="Voca 33-34pg"></span><span class="g empty" data-day="12" data-order="2" data-type="speaking" title="Speaking 6"></span><span class="g empty" data-day="12" data-order="3" data-type="writing" title="Writing 6"></span></div>
          <!-- W3 -->
          <div class="g-label">Week 3</div>
          <div class="g-day g-day-3"><span class="g empty" data-day="13" data-order="1" data-type="voca_test" title="Voca 35-37pg"></span><span class="g empty" data-day="13" data-order="2" data-type="reading_module" title="Reading Module 7"></span><span class="g empty" data-day="13" data-order="3" data-type="listening_module" title="Listening Module 7"></span></div>
          <div class="g-day g-day-3"><span class="g empty" data-day="14" data-order="1" data-type="voca_test" title="Voca 38-39pg"></span><span class="g empty" data-day="14" data-order="2" data-type="reading_module" title="Reading Module 8"></span><span class="g empty" data-day="14" data-order="3" data-type="speaking" title="Speaking 7"></span></div>
          <div class="g-day g-day-3"><span class="g empty" data-day="15" data-order="1" data-type="voca_test" title="Voca 40-42pg"></span><span class="g empty" data-day="15" data-order="2" data-type="listening_module" title="Listening Module 8"></span><span class="g empty" data-day="15" data-order="3" data-type="writing" title="Writing 7"></span></div>
          <div class="g-day g-day-3"><span class="g empty" data-day="16" data-order="1" data-type="voca_test" title="Voca 43-44pg"></span><span class="g empty" data-day="16" data-order="2" data-type="reading_module" title="Reading Module 9"></span><span class="g empty" data-day="16" data-order="3" data-type="writing" title="Writing 8"></span></div>
          <div class="g-day g-day-3"><span class="g empty" data-day="17" data-order="1" data-type="voca_test" title="Voca 45-47pg"></span><span class="g empty" data-day="17" data-order="2" data-type="listening_module" title="Listening Module 9"></span><span class="g empty" data-day="17" data-order="3" data-type="speaking" title="Speaking 8"></span></div>
          <div class="g-day g-day-3"><span class="g empty" data-day="18" data-order="1" data-type="voca_test" title="Voca 48-49pg"></span><span class="g empty" data-day="18" data-order="2" data-type="speaking" title="Speaking 9"></span><span class="g empty" data-day="18" data-order="3" data-type="writing" title="Writing 9"></span></div>
          <!-- W4 -->
          <div class="g-label">Week 4</div>
          <div class="g-day g-day-3"><span class="g empty" data-day="19" data-order="1" data-type="voca_test" title="Voca 50-52pg"></span><span class="g empty" data-day="19" data-order="2" data-type="reading_module" title="Reading Module 10"></span><span class="g empty" data-day="19" data-order="3" data-type="listening_module" title="Listening Module 10"></span></div>
          <div class="g-day g-day-3"><span class="g empty" data-day="20" data-order="1" data-type="voca_test" title="Voca 53-54pg"></span><span class="g empty" data-day="20" data-order="2" data-type="reading_module" title="Reading Module 11"></span><span class="g empty" data-day="20" data-order="3" data-type="speaking" title="Speaking 10"></span></div>
          <div class="g-day g-day-3"><span class="g empty" data-day="21" data-order="1" data-type="voca_test" title="Voca 55-57pg"></span><span class="g empty" data-day="21" data-order="2" data-type="listening_module" title="Listening Module 11"></span><span class="g empty" data-day="21" data-order="3" data-type="writing" title="Writing 10"></span></div>
          <div class="g-day g-day-3"><span class="g empty" data-day="22" data-order="1" data-type="voca_test" title="Voca 58-59pg"></span><span class="g empty" data-day="22" data-order="2" data-type="reading_module" title="Reading Module 12"></span><span class="g empty" data-day="22" data-order="3" data-type="writing" title="Writing 11"></span></div>
          <div class="g-day g-day-3"><span class="g empty" data-day="23" data-order="1" data-type="voca_test" title="Voca 60-61pg"></span><span class="g empty" data-day="23" data-order="2" data-type="listening_module" title="Listening Module 12"></span><span class="g empty" data-day="23" data-order="3" data-type="speaking" title="Speaking 11"></span></div>
          <div class="g-day g-day-2"><span class="g empty" data-day="24" data-order="1" data-type="speaking" title="Speaking 12"></span><span class="g empty" data-day="24" data-order="2" data-type="writing" title="Writing 12"></span></div>
        </div>
        <div class="grass-legend">
          <span class="legend-item"><span class="legend-dot success"></span>완료</span>
          <span class="legend-item"><span class="legend-dot fail"></span>미완료</span>
          <span class="legend-item"><span class="legend-dot empty"></span>예정</span>
        </div>
      </div>

      <!-- ===== STANDARD (2개월 · 8주) ===== -->
      <div class="grass-wrap" id="grass-standard" style="display:none;">
        <p class="section-desc">Standard · 8주 과정 · 주 6일</p>
        <div class="grass-grid grass-std-grid">
          <!-- 헤더 -->
          <div class="g-label"></div>
          <div class="g-head">일</div>
          <div class="g-head">월</div>
          <div class="g-head">화</div>
          <div class="g-head">수</div>
          <div class="g-head">목</div>
          <div class="g-head">금</div>
          <!-- W1 -->
          <div class="g-label">Week 1</div>
          <div class="g-day g-day-4"><span class="g empty" data-day="1" data-order="1" data-type="voca_test" title="Voca 5-7pg"></span><span class="g empty" data-day="1" data-order="2" data-type="intro_reading" title="Read TOEFL Intro 1/6"></span><span class="g empty" data-day="1" data-order="3" data-type="reading_module" title="Reading Module 1"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="2" data-order="1" data-type="voca_test" title="Voca 8-9pg"></span><span class="g empty" data-day="2" data-order="2" data-type="intro_reading" title="Read TOEFL Intro 2/6"></span><span class="g empty" data-day="2" data-order="3" data-type="listening_module" title="Listening Module 1"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="3" data-order="1" data-type="voca_test" title="Voca 10-11pg"></span><span class="g empty" data-day="3" data-order="2" data-type="intro_reading" title="Read TOEFL Intro 3/6"></span><span class="g empty" data-day="3" data-order="3" data-type="writing" title="Writing 1"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="4" data-order="1" data-type="voca_test" title="Voca 12-14pg"></span><span class="g empty" data-day="4" data-order="2" data-type="intro_reading" title="Read TOEFL Intro 4/6"></span><span class="g empty" data-day="4" data-order="3" data-type="speaking" title="Speaking 1"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="5" data-order="1" data-type="voca_test" title="Voca 15-16pg"></span><span class="g empty" data-day="5" data-order="2" data-type="intro_reading" title="Read TOEFL Intro 5/6"></span><span class="g empty" data-day="5" data-order="3" data-type="reading_module" title="Reading Module 2"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="6" data-order="1" data-type="voca_test" title="Voca 17-19pg"></span><span class="g empty" data-day="6" data-order="2" data-type="intro_reading" title="Read TOEFL Intro 6/6"></span><span class="g empty" data-day="6" data-order="3" data-type="listening_module" title="Listening Module 2"></span></div>
          <!-- W2 -->
          <div class="g-label">Week 2</div>
          <div class="g-day g-day-4"><span class="g empty" data-day="7" data-order="1" data-type="voca_test" title="Voca 20-21pg"></span><span class="g empty" data-day="7" data-order="2" data-type="speaking" title="Speaking 2"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="8" data-order="1" data-type="voca_test" title="Voca 22-23pg"></span><span class="g empty" data-day="8" data-order="2" data-type="writing" title="Writing 2"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="9" data-order="1" data-type="voca_test" title="Voca 24-26pg"></span><span class="g empty" data-day="9" data-order="2" data-type="reading_module" title="Reading Module 3"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="10" data-order="1" data-type="voca_test" title="Voca 27-28pg"></span><span class="g empty" data-day="10" data-order="2" data-type="speaking" title="Speaking 3"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="11" data-order="1" data-type="voca_test" title="Voca 29-31pg"></span><span class="g empty" data-day="11" data-order="2" data-type="writing" title="Writing 3"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="12" data-order="1" data-type="voca_test" title="Voca 32-33pg"></span><span class="g empty" data-day="12" data-order="2" data-type="listening_module" title="Listening Module 3"></span></div>
          <!-- W3 -->
          <div class="g-label">Week 3</div>
          <div class="g-day g-day-4"><span class="g empty" data-day="13" data-order="1" data-type="voca_test" title="Voca 34-35pg"></span><span class="g empty" data-day="13" data-order="2" data-type="reading_module" title="Reading Module 4"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="14" data-order="1" data-type="voca_test" title="Voca 36-38pg"></span><span class="g empty" data-day="14" data-order="2" data-type="speaking" title="Speaking 4"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="15" data-order="1" data-type="voca_test" title="Voca 39-40pg"></span><span class="g empty" data-day="15" data-order="2" data-type="listening_module" title="Listening Module 4"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="16" data-order="1" data-type="voca_test" title="Voca 41-42pg"></span><span class="g empty" data-day="16" data-order="2" data-type="reading_module" title="Reading Module 5"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="17" data-order="1" data-type="voca_test" title="Voca 43-45pg"></span><span class="g empty" data-day="17" data-order="2" data-type="listening_module" title="Listening Module 5"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="18" data-order="1" data-type="voca_test" title="Voca 46-47pg"></span><span class="g empty" data-day="18" data-order="2" data-type="writing" title="Writing 4"></span></div>
          <!-- W4 -->
          <div class="g-label">Week 4</div>
          <div class="g-day g-day-4"><span class="g empty" data-day="19" data-order="1" data-type="voca_test" title="Voca 48-50pg"></span><span class="g empty" data-day="19" data-order="2" data-type="speaking" title="Speaking 5"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="20" data-order="1" data-type="voca_test" title="Voca 51-52pg"></span><span class="g empty" data-day="20" data-order="2" data-type="writing" title="Writing 5"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="21" data-order="1" data-type="voca_test" title="Voca 53-54pg"></span><span class="g empty" data-day="21" data-order="2" data-type="reading_module" title="Reading Module 6"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="22" data-order="1" data-type="voca_test" title="Voca 55-57pg"></span><span class="g empty" data-day="22" data-order="2" data-type="speaking" title="Speaking 6"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="23" data-order="1" data-type="voca_test" title="Voca 58-59pg"></span><span class="g empty" data-day="23" data-order="2" data-type="writing" title="Writing 6"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="24" data-order="1" data-type="voca_test" title="Voca 60-61pg"></span><span class="g empty" data-day="24" data-order="2" data-type="listening_module" title="Listening Module 6"></span></div>
          <!-- W5 -->
          <div class="g-label">Week 5</div>
          <div class="g-day g-day-4"><span class="g empty" data-day="25" data-order="1" data-type="voca_test" title="Voca 5-7pg"></span><span class="g empty" data-day="25" data-order="2" data-type="reading_module" title="Reading Module 7"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="26" data-order="1" data-type="voca_test" title="Voca 8-9pg"></span><span class="g empty" data-day="26" data-order="2" data-type="speaking" title="Speaking 7"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="27" data-order="1" data-type="voca_test" title="Voca 10-12pg"></span><span class="g empty" data-day="27" data-order="2" data-type="listening_module" title="Listening Module 7"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="28" data-order="1" data-type="voca_test" title="Voca 13-14pg"></span><span class="g empty" data-day="28" data-order="2" data-type="reading_module" title="Reading Module 8"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="29" data-order="1" data-type="voca_test" title="Voca 15-16pg"></span><span class="g empty" data-day="29" data-order="2" data-type="listening_module" title="Listening Module 8"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="30" data-order="1" data-type="voca_test" title="Voca 17-19pg"></span><span class="g empty" data-day="30" data-order="2" data-type="writing" title="Writing 7"></span></div>
          <!-- W6 -->
          <div class="g-label">Week 6</div>
          <div class="g-day g-day-4"><span class="g empty" data-day="31" data-order="1" data-type="voca_test" title="Voca 20-21pg"></span><span class="g empty" data-day="31" data-order="2" data-type="speaking" title="Speaking 8"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="32" data-order="1" data-type="voca_test" title="Voca 22-24pg"></span><span class="g empty" data-day="32" data-order="2" data-type="writing" title="Writing 8"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="33" data-order="1" data-type="voca_test" title="Voca 25-26pg"></span><span class="g empty" data-day="33" data-order="2" data-type="reading_module" title="Reading Module 9"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="34" data-order="1" data-type="voca_test" title="Voca 27-28pg"></span><span class="g empty" data-day="34" data-order="2" data-type="speaking" title="Speaking 9"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="35" data-order="1" data-type="voca_test" title="Voca 29-31pg"></span><span class="g empty" data-day="35" data-order="2" data-type="writing" title="Writing 9"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="36" data-order="1" data-type="voca_test" title="Voca 32-33pg"></span><span class="g empty" data-day="36" data-order="2" data-type="listening_module" title="Listening Module 9"></span></div>
          <!-- W7 -->
          <div class="g-label">Week 7</div>
          <div class="g-day g-day-4"><span class="g empty" data-day="37" data-order="1" data-type="voca_test" title="Voca 34-35pg"></span><span class="g empty" data-day="37" data-order="2" data-type="reading_module" title="Reading Module 10"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="38" data-order="1" data-type="voca_test" title="Voca 36-38pg"></span><span class="g empty" data-day="38" data-order="2" data-type="speaking" title="Speaking 10"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="39" data-order="1" data-type="voca_test" title="Voca 39-40pg"></span><span class="g empty" data-day="39" data-order="2" data-type="listening_module" title="Listening Module 10"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="40" data-order="1" data-type="voca_test" title="Voca 41-43pg"></span><span class="g empty" data-day="40" data-order="2" data-type="reading_module" title="Reading Module 11"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="41" data-order="1" data-type="voca_test" title="Voca 44-45pg"></span><span class="g empty" data-day="41" data-order="2" data-type="listening_module" title="Listening Module 11"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="42" data-order="1" data-type="voca_test" title="Voca 46-47pg"></span><span class="g empty" data-day="42" data-order="2" data-type="writing" title="Writing 10"></span></div>
          <!-- W8 -->
          <div class="g-label">Week 8</div>
          <div class="g-day g-day-4"><span class="g empty" data-day="43" data-order="1" data-type="voca_test" title="Voca 48-50pg"></span><span class="g empty" data-day="43" data-order="2" data-type="speaking" title="Speaking 11"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="44" data-order="1" data-type="voca_test" title="Voca 51-52pg"></span><span class="g empty" data-day="44" data-order="2" data-type="writing" title="Writing 11"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="45" data-order="1" data-type="voca_test" title="Voca 53-55pg"></span><span class="g empty" data-day="45" data-order="2" data-type="reading_module" title="Reading Module 12"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="46" data-order="1" data-type="voca_test" title="Voca 56-57pg"></span><span class="g empty" data-day="46" data-order="2" data-type="speaking" title="Speaking 12"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="47" data-order="1" data-type="voca_test" title="Voca 58-59pg"></span><span class="g empty" data-day="47" data-order="2" data-type="writing" title="Writing 12"></span></div>
          <div class="g-day g-day-4"><span class="g empty" data-day="48" data-order="1" data-type="voca_test" title="Voca 60-61pg"></span><span class="g empty" data-day="48" data-order="2" data-type="listening_module" title="Listening Module 12"></span></div>
        </div>
        <div class="grass-legend">
          <span class="legend-item"><span class="legend-dot success"></span>완료</span>
          <span class="legend-item"><span class="legend-dot fail"></span>미완료</span>
          <span class="legend-item"><span class="legend-dot empty"></span>예정</span>
        </div>
      </div>
    </section>

    <!-- ③ 최근 학습 기록 -->
    <section class="section-block">
      <h2 class="section-title">
        <i class="fa-solid fa-book-open"></i> 최근 학습 기록
      </h2>

      <div class="record-table-wrap">
        <table class="record-table">
          <thead>
            <tr>
              <th>날짜</th>
              <th>과제</th>
              <th>점수</th>
              <th>노트</th>
              <th>해설</th>
            </tr>
          </thead>
          <tbody id="recordTableBody">
            <!-- JS로 동적 렌더링 -->
            <tr>
              <td colspan="5" style="text-align:center; padding:32px; color:var(--text-muted);">
                <i class="fa-solid fa-spinner fa-spin"></i> 데이터를 불러오는 중...
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>

  </main>

  <!-- ══════════ 노트 모달 ══════════ -->
  <div class="modal-overlay" id="noteModal">
    <div class="modal-box note-modal">
      <div class="modal-header">
        <h3 id="noteTitle"><i class="fa-regular fa-note-sticky"></i> 학습 노트</h3>
        <button class="modal-close" onclick="closeModal('noteModal')"><i class="fa-solid fa-xmark"></i></button>
      </div>
      <div class="modal-body">
        <p id="noteContent" class="note-content"></p>
      </div>
    </div>
  </div>

  <!-- Supabase 클라이언트 (공유) -->
  <script src="js/supabase-client.js"></script>
  <!-- 해설 다시보기 -->
  <script src="js/result-replay.js?v=20260222_002"></script>
  <!-- 마이페이지 전용 로직 -->
  <script src="js/mypage.js"></script>
</body>
</html>
