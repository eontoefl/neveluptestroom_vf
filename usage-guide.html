<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë‚´ë²¨ì—…ì±Œë¦°ì§€ ì´ìš©ë°©ë²• ìƒì„¸ ê°€ì´ë“œ - ì´ì˜¨í† í”Œ</title>
    
    <!-- Pretendard Font -->
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">
    
    <style>
        body {
            background: linear-gradient(135deg, #f8f4ff 0%, #faf5ff 100%);
            padding: 40px 20px;
        }
        
        .guide-container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 24px;
            padding: 60px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        
        .guide-header {
            text-align: center;
            margin-bottom: 60px;
            padding-bottom: 40px;
            border-bottom: 3px solid #9480c5;
        }
        
        .guide-header h1 {
            font-size: 42px;
            font-weight: 800;
            color: #6d28d9;
            margin: 0 0 16px 0;
        }
        
        .guide-header p {
            font-size: 18px;
            color: #64748b;
            margin: 0;
        }
        
        .guide-section {
            margin-bottom: 48px;
        }
        
        .guide-section h2 {
            font-size: 28px;
            font-weight: 700;
            color: #1e293b;
            margin: 0 0 24px 0;
            padding-left: 20px;
            border-left: 6px solid #9480c5;
        }
        
        .guide-section h3 {
            font-size: 22px;
            font-weight: 700;
            color: #475569;
            margin: 32px 0 16px 0;
        }
        
        .guide-section p {
            font-size: 16px;
            line-height: 1.8;
            color: #334155;
            margin: 0 0 16px 0;
        }
        
        .guide-section ul, .guide-section ol {
            font-size: 16px;
            line-height: 1.8;
            color: #334155;
            margin: 0 0 16px 0;
            padding-left: 32px;
        }
        
        .guide-section li {
            margin-bottom: 12px;
        }
        
        .info-box {
            background: #f0f9ff;
            border-left: 4px solid #3b82f6;
            padding: 24px;
            border-radius: 12px;
            margin: 24px 0;
        }
        
        .info-box h4 {
            font-size: 18px;
            font-weight: 700;
            color: #1e40af;
            margin: 0 0 12px 0;
        }
        
        .info-box p {
            font-size: 15px;
            line-height: 1.8;
            color: #1e40af;
            margin: 0;
        }
        
        .warning-box {
            background: #fef2f2;
            border-left: 4px solid #ef4444;
            padding: 24px;
            border-radius: 12px;
            margin: 24px 0;
        }
        
        .warning-box h4 {
            font-size: 18px;
            font-weight: 700;
            color: #991b1b;
            margin: 0 0 12px 0;
        }
        
        .warning-box p {
            font-size: 15px;
            line-height: 1.8;
            color: #991b1b;
            margin: 0;
        }
        
        .success-box {
            background: #f0fdf4;
            border-left: 4px solid #22c55e;
            padding: 24px;
            border-radius: 12px;
            margin: 24px 0;
        }
        
        .success-box h4 {
            font-size: 18px;
            font-weight: 700;
            color: #166534;
            margin: 0 0 12px 0;
        }
        
        .success-box p {
            font-size: 15px;
            line-height: 1.8;
            color: #166534;
            margin: 0;
        }
        
        .image-placeholder {
            background: #f1f5f9;
            border: 2px dashed #cbd5e1;
            border-radius: 12px;
            padding: 60px 20px;
            text-align: center;
            margin: 24px 0;
            color: #64748b;
        }
        
        .image-placeholder i {
            font-size: 48px;
            margin-bottom: 16px;
            color: #94a3b8;
        }
        
        .cta-button {
            display: block;
            width: 100%;
            padding: 20px;
            background: linear-gradient(135deg, #9480c5 0%, #7c68a8 100%);
            color: white;
            text-align: center;
            text-decoration: none;
            border-radius: 16px;
            font-size: 20px;
            font-weight: 700;
            margin: 48px 0;
            transition: all 0.3s;
            box-shadow: 0 4px 16px rgba(148, 128, 197, 0.4);
        }
        
        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 24px rgba(148, 128, 197, 0.5);
        }
        
        @media (max-width: 768px) {
            .guide-container {
                padding: 40px 24px;
            }
            
            .guide-header h1 {
                font-size: 32px;
            }
            
            .guide-section h2 {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <div class="guide-container">
        <!-- í—¤ë” -->
        <div class="guide-header">
            <h1>ğŸ“– ë‚´ë²¨ì—…ì±Œë¦°ì§€ ì´ìš©ë°©ë²•</h1>
            <p>ìì„¸í•œ ì´ìš© ê°€ì´ë“œë¥¼ í™•ì¸í•˜ì„¸ìš”</p>
        </div>
        
        <!-- ë¡œë”© ìƒíƒœ -->
        <div id="loadingState" style="text-align: center; padding: 60px 20px;">
            <div style="display: inline-block; width: 40px; height: 40px; border: 4px solid #e2e8f0; border-top-color: #9480c5; border-radius: 50%; animation: spin 0.8s linear infinite;"></div>
            <p style="margin-top: 20px; color: #64748b;">ê°€ì´ë“œë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
        </div>
        
        <!-- ë™ì  ì½˜í…ì¸  ì˜ì—­ -->
        <div id="guideContent"></div>
        
        <!-- ê¸°ë³¸ ì„¹ì…˜ (ë°±ì—…ìš© - DB ë¡œë“œ ì‹¤íŒ¨ ì‹œ í‘œì‹œ) -->
        <div id="defaultContent" style="display: none;">
        <!-- ì„¹ì…˜ 1: ì‹œì‘í•˜ê¸° -->
        <div class="guide-section">
            <h2><i class="fas fa-rocket" style="color: #9480c5; margin-right: 12px;"></i>1. ì‹œì‘í•˜ê¸°</h2>
            <p>
                ë‚´ë²¨ì—…ì±Œë¦°ì§€ì— ì˜¤ì‹  ê²ƒì„ í™˜ì˜í•©ë‹ˆë‹¤! ë³¸ ê°€ì´ë“œëŠ” ì±Œë¦°ì§€ë¥¼ íš¨ê³¼ì ìœ¼ë¡œ í™œìš©í•˜ê¸° ìœ„í•œ ë‹¨ê³„ë³„ ì•ˆë‚´ì…ë‹ˆë‹¤.
            </p>
            
            <h3>ğŸ“Œ ì²« ë‹¨ê³„</h3>
            <ol>
                <li><strong>í”Œë«í¼ ë¡œê·¸ì¸:</strong> ì œê³µë°›ì€ URLë¡œ ì ‘ì†í•˜ì—¬ ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¡œ ë¡œê·¸ì¸í•˜ì„¸ìš”.</li>
                <li><strong>ëŒ€ì‹œë³´ë“œ í™•ì¸:</strong> ë¡œê·¸ì¸ í›„ ëŒ€ì‹œë³´ë“œì—ì„œ í•™ìŠµ ì§„ë„ì™€ ê³¼ì œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                <li><strong>í•™ìŠµ ê³„íš ìˆ˜ë¦½:</strong> ê°œë³„ë¶„ì„ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ í•™ìŠµ ê³„íšì„ ì„¸ì›Œë³´ì„¸ìš”.</li>
            </ol>
            
            <div class="info-box">
                <h4><i class="fas fa-lightbulb"></i> TIP</h4>
                <p>
                    ì²« ì£¼ëŠ” í”Œë«í¼ì— ìµìˆ™í•´ì§€ëŠ” ì‹œê°„ì…ë‹ˆë‹¤. ì§„ë‹¨ í…ŒìŠ¤íŠ¸ë¥¼ í†µí•´ í˜„ì¬ ì‹¤ë ¥ì„ íŒŒì•…í•˜ê³ ,
                    ë§ì¶¤ í•™ìŠµ ê³„íšì„ í™•ì¸í•˜ì„¸ìš”. ê¶ê¸ˆí•œ ì ì€ ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ì–¸ì œë“  ë¬¸ì˜í•˜ì„¸ìš”!
                </p>
            </div>
            
            <!-- ì´ë¯¸ì§€ ì¶”ê°€ ì˜ì—­ -->
            <div class="image-placeholder">
                <i class="fas fa-image"></i>
                <p>ì—¬ê¸°ì— í”Œë«í¼ ë¡œê·¸ì¸ í™”ë©´ ìŠ¤í¬ë¦°ìƒ·ì„ ì¶”ê°€í•˜ì„¸ìš”</p>
                <small style="font-size: 13px; color: #94a3b8;">
                    ì˜ˆ: &lt;img src="images/login-screen.png" alt="ë¡œê·¸ì¸ í™”ë©´" style="width: 100%; border-radius: 8px;"&gt;
                </small>
            </div>
        </div>
        
        <!-- ì„¹ì…˜ 2: ë‚´ë²¨ì—…í…ŒìŠ¤íŠ¸ë£¸ -->
        <div class="guide-section">
            <h2><i class="fas fa-clipboard-check" style="color: #3b82f6; margin-right: 12px;"></i>2. ë‚´ë²¨ì—…í…ŒìŠ¤íŠ¸ë£¸ ì‚¬ìš©ë²•</h2>
            <p>
                ë‚´ë²¨ì—…í…ŒìŠ¤íŠ¸ë£¸ì€ ì‹¤ì œ ëª¨ì˜ê³ ì‚¬ í’€ì´, 2ë‹¨ê³„ ì˜¤ë‹µì‹œìŠ¤í…œ, ì±„ì , í•´ì„¤, ëª¨ë²”ë‹µì•ˆ,
                ì¸ì¦ë¥  ì²´í¬ ë° ê¸°ë¡ ë“±ì„ ì œê³µí•˜ëŠ” ì˜¬ì¸ì› í”„ë¡œê·¸ë¨ì…ë‹ˆë‹¤.
            </p>
            
            <h3>ğŸ¯ ì£¼ìš” ê¸°ëŠ¥</h3>
            <ul>
                <li><strong>ëª¨ì˜ê³ ì‚¬ í’€ì´:</strong> ì‹¤ì œ ì‹œí—˜ê³¼ ë™ì¼í•œ í™˜ê²½ì—ì„œ ì—°ìŠµí•˜ì„¸ìš”.</li>
                <li><strong>2ë‹¨ê³„ ì˜¤ë‹µì‹œìŠ¤í…œ:</strong> í‹€ë¦° ë¬¸ì œë¥¼ ì²´ê³„ì ìœ¼ë¡œ ë¶„ì„í•˜ê³  ë³µìŠµí•˜ì„¸ìš”.</li>
                <li><strong>ìë™ ì±„ì :</strong> ì¦‰ì‹œ ì ìˆ˜ í™•ì¸ ë° ì„¹ì…˜ë³„ ë¶„ì„ì„ ë°›ìœ¼ì„¸ìš”.</li>
                <li><strong>ìƒì„¸ í•´ì„¤:</strong> ëª¨ë²”ë‹µì•ˆê³¼ í•¨ê»˜ ë¬¸ì œë³„ í•´ì„¤ì„ í™•ì¸í•˜ì„¸ìš”.</li>
                <li><strong>ì¸ì¦ë¥  ê´€ë¦¬:</strong> ê³¼ì œ ì¸ì¦ë¥ ì´ ìë™ìœ¼ë¡œ ê¸°ë¡ë©ë‹ˆë‹¤.</li>
            </ul>
            
            <div class="warning-box">
                <h4><i class="fas fa-exclamation-triangle"></i> ì¤‘ìš”</h4>
                <p>
                    ë‚´ë²¨ì—…í…ŒìŠ¤íŠ¸ë£¸ ì•¡ì„¸ìŠ¤ ì´í›„ì—ëŠ” í™˜ë¶ˆì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.
                    ë§¤ì£¼ ëª©ìš”ì¼ì— ì¼ê´„ ì•¡ì„¸ìŠ¤ê°€ ì œê³µë˜ë©°, ë¨¼ì € ì‹œì‘í•˜ê³  ì‹¶ì€ ê²½ìš° ê°œë³„ ìš”ì²­ ê°€ëŠ¥í•©ë‹ˆë‹¤.
                </p>
            </div>
            
            <!-- ì´ë¯¸ì§€ ì¶”ê°€ ì˜ì—­ -->
            <div class="image-placeholder">
                <i class="fas fa-image"></i>
                <p>ì—¬ê¸°ì— í…ŒìŠ¤íŠ¸ë£¸ ëŒ€ì‹œë³´ë“œ ìŠ¤í¬ë¦°ìƒ·ì„ ì¶”ê°€í•˜ì„¸ìš”</p>
            </div>
        </div>
        
        <!-- ì„¹ì…˜ 3: í•™ìŠµ ë£¨í‹´ -->
        <div class="guide-section">
            <h2><i class="fas fa-calendar-alt" style="color: #f59e0b; margin-right: 12px;"></i>3. ì¶”ì²œ í•™ìŠµ ë£¨í‹´</h2>
            
            <h3>ğŸ“… ì£¼ê°„ í•™ìŠµ ê³„íš</h3>
            <ul>
                <li><strong>ì›”~ê¸ˆ:</strong> ë§¤ì¼ 2ì‹œê°„ ì´ìƒ í”Œë«í¼ í•™ìŠµ + ì£¼ê°„ ê³¼ì œ ì§„í–‰</li>
                <li><strong>í† ìš”ì¼:</strong> ëª¨ì˜ê³ ì‚¬ í’€ì´ + ì˜¤ë‹µ ì •ë¦¬</li>
                <li><strong>ì¼ìš”ì¼:</strong> ì£¼ê°„ ë³µìŠµ + ë‹¤ìŒ ì£¼ ê³„íš ìˆ˜ë¦½</li>
            </ul>
            
            <h3>â° ì¼ì¼ í•™ìŠµ ê¶Œì¥ ì‹œê°„</h3>
            <ul>
                <li>ë¦¬ë”©: 40ë¶„</li>
                <li>ë¦¬ìŠ¤ë‹: 30ë¶„</li>
                <li>ìŠ¤í”¼í‚¹: 30ë¶„</li>
                <li>ë¼ì´íŒ…: 20ë¶„</li>
            </ul>
            
            <div class="success-box">
                <h4><i class="fas fa-trophy"></i> ì„±ê³µ TIP</h4>
                <p>
                    ëª©í‘œ ì ìˆ˜ë¥¼ ë‹¬ì„±í•œ í•™ìƒë“¤ì˜ ê³µí†µì ì€ "ê¾¸ì¤€í•¨"ì…ë‹ˆë‹¤.
                    ë§¤ì¼ ê°™ì€ ì‹œê°„ì— í•™ìŠµí•˜ëŠ” ìŠµê´€ì„ ë§Œë“¤ê³ , ê³¼ì œ ì¸ì¦ë¥  95% ì´ìƒì„ ìœ ì§€í•˜ì„¸ìš”.
                    ê·¸ëŸ¬ë©´ 10ë§Œì› ë³´ì¦ê¸ˆì„ ì „ì•¡ í™˜ê¸‰ë°›ìœ¼ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤!
                </p>
            </div>
        </div>
        
        <!-- ì„¹ì…˜ 4: ì‹¤ë¬¼ íƒë°° -->
        <div class="guide-section">
            <h2><i class="fas fa-box" style="color: #22c55e; margin-right: 12px;"></i>4. ì‹¤ë¬¼ íƒë°° ì•ˆë‚´</h2>
            <p>
                ë¹ˆ ë…¸íŠ¸í…Œì´í‚¹, ë³´ì¹´ ì‹¤ë¬¼ì±…, ì—°í•„, ì—°í•„ê¹ì´ ë“± ìˆ˜ê¸°ë¡œ ì‘ì„±í•´ì•¼ í•˜ëŠ” í•™ìŠµ ìë£Œë¥¼
                ì‹¤ë¬¼ íƒë°°ë¡œ ì œê³µí•©ë‹ˆë‹¤.
            </p>
            
            <h3>ğŸ“¦ ë°°ì†¡ ì¼ì •</h3>
            <ul>
                <li>ì¶œê³ : ì±Œë¦°ì§€ ì‹œì‘ ì „ ëª©~ê¸ˆìš”ì¼</li>
                <li>ë„ì°©: ì¶œê³  ë‹¤ìŒë‚  (íŠ¹ë³„í•œ ì¼ì´ ì—†ëŠ” í•œ)</li>
            </ul>
            
            <div class="info-box">
                <h4><i class="fas fa-info-circle"></i> ì°¸ê³ </h4>
                <p>
                    ì‹¤ë¬¼ êµì¬ ì—´ëŒ ì‹œ í™˜ë¶ˆ ê°€ëŠ¥ ê¸ˆì•¡ì—ì„œ 50,000ì›ì´ ì œì™¸ë©ë‹ˆë‹¤.
                    íƒë°° ìˆ˜ë ¹ í›„ êµì¬ ìƒíƒœë¥¼ í™•ì¸í•˜ì‹œê³ , ë¬¸ì œê°€ ìˆë‹¤ë©´ ì¦‰ì‹œ ì—°ë½ ì£¼ì„¸ìš”.
                </p>
            </div>
        </div>
        
        <!-- ì„¹ì…˜ 5: ê³¼ì œ ì¸ì¦ë¥  -->
        <div class="guide-section">
            <h2><i class="fas fa-chart-line" style="color: #ef4444; margin-right: 12px;"></i>5. ê³¼ì œ ì¸ì¦ë¥ ê³¼ ë³´ì¦ê¸ˆ í™˜ê¸‰</h2>
            <p>
                ê³¼ì œ ì¸ì¦ë¥ ì— ë”°ë¼ ë³´ì¦ê¸ˆ í™˜ê¸‰ ê¸ˆì•¡ì´ ë‹¬ë¼ì§‘ë‹ˆë‹¤.
            </p>
            
            <h3>ğŸ’° í™˜ê¸‰ ê¸°ì¤€</h3>
            <ul>
                <li><strong>95% ì´ìƒ:</strong> 100,000ì› ì „ì•¡ í™˜ê¸‰ ğŸ‰</li>
                <li><strong>70~94%:</strong> ë¶€ë¶„ í™˜ê¸‰ (ì¸ì¦ë¥ ì— ë¹„ë¡€)</li>
                <li><strong>70% ë¯¸ë§Œ:</strong> í™˜ê¸‰ ë¶ˆê°€ âŒ</li>
            </ul>
            
            <h3>ğŸ“Š ì¸ì¦ë¥  ê³„ì‚° ë°©ë²•</h3>
            <p>
                ê³¼ì œ ì¸ì¦ë¥  = (ì œì¶œí•œ ê³¼ì œ ìˆ˜ Ã· ì „ì²´ ê³¼ì œ ìˆ˜) Ã— 100
            </p>
            
            <div class="warning-box">
                <h4><i class="fas fa-exclamation-circle"></i> í™˜ë¶ˆ ë¶ˆê°€ ì¡°ê±´</h4>
                <p>
                    â€¢ ë‚´ë²¨ì—…í…ŒìŠ¤íŠ¸ë£¸ ì•¡ì„¸ìŠ¤ ì´í›„<br>
                    â€¢ ê³¼ì œ ì¸ì¦ë¥  70% ë¯¸ë§Œ<br>
                    â€¢ ì‹¤ë¬¼ êµì¬ ì—´ëŒ ì‹œ í™˜ë¶ˆ ê°€ëŠ¥ ê¸ˆì•¡ì—ì„œ 50,000ì› ì œì™¸
                </p>
            </div>
        </div>
        
        <!-- ì„¹ì…˜ 6: ë¬¸ì˜ ë° ì§€ì› -->
        <div class="guide-section">
            <h2><i class="fas fa-headset" style="color: #06b6d4; margin-right: 12px;"></i>6. ë¬¸ì˜ ë° ì§€ì›</h2>
            <p>
                í•™ìŠµ ì¤‘ ê¶ê¸ˆí•œ ì ì´ë‚˜ ë„ì›€ì´ í•„ìš”í•˜ì‹œë©´ ì–¸ì œë“ ì§€ ì—°ë½ ì£¼ì„¸ìš”.
            </p>
            
            <h3>ğŸ’¬ ì†Œí†µ ì±„ë„</h3>
            <ul>
                <li><strong>ì¹´ì¹´ì˜¤í†¡:</strong> í•™ìŠµ ê´€ë ¨ ë¬¸ì˜, ê³¼ì œ ì œì¶œ, ê¸´ê¸‰ ë¬¸ì˜</li>
                <li><strong>ì‚¬ì´íŠ¸ ëŒ“ê¸€:</strong> ì‹ ì²­ ë° ì§„í–‰ ê³¼ì •ë§Œ ì§„í–‰</li>
            </ul>
            
            <div class="success-box">
                <h4><i class="fas fa-comments"></i> ë¹ ë¥¸ ì‘ë‹µ</h4>
                <p>
                    ì¹´ì¹´ì˜¤í†¡ ë¬¸ì˜ëŠ” í‰ì¼ 09:00~18:00 ì‚¬ì´ì— ê°€ì¥ ë¹ ë¥´ê²Œ ë‹µë³€ë“œë¦½ë‹ˆë‹¤.
                    ê¸´ê¸‰í•œ ë¬¸ì˜ëŠ” ë¬¸ì ë©”ì‹œì§€ ì•ì— "[ê¸´ê¸‰]"ì„ í‘œì‹œí•´ì£¼ì„¸ìš”.
                </p>
            </div>
        </div>
        </div>
        </div>
        
        <!-- í•˜ë‹¨ CTA -->
        <div id="footerCTA">
            <a href="javascript:window.close();" class="cta-button">
                <i class="fas fa-check-circle"></i> ì´í•´í–ˆìŠµë‹ˆë‹¤! ì°½ ë‹«ê¸°
            </a>
            
            <p style="text-align: center; font-size: 14px; color: #64748b; margin-top: 40px;">
                ğŸ’¡ ì´ ê°€ì´ë“œëŠ” ê´€ë¦¬ì í˜ì´ì§€ì˜ "ì‚¬ì´íŠ¸ ì„¤ì • â†’ ì´ìš©ë°©ë²• ì•ˆë‚´ ì„¤ì • â†’ ìƒì„¸ ê°€ì´ë“œ" íƒ­ì—ì„œ<br>
                ì–¸ì œë“ ì§€ ìˆ˜ì •í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
            </p>
        </div>
    </div>
    
    <!-- Script for Dynamic Loading -->
    <style>
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
    
    <script>
        // Supabase ì„¤ì • (usage-guide.htmlì€ supabase-config.jsë¥¼ ë¡œë“œí•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ì§ì ‘ ì •ì˜)
        const SUPABASE_URL = 'https://qpqjevecjejvbeuogtbx.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFwcWpldmVjamVqdmJldW9ndGJ4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE0MDAxNDEsImV4cCI6MjA4Njk3NjE0MX0.pJvY4u9oHQYa7IvAjWluHMow_4WIkONDBBasnXxF5Gc';

        document.addEventListener('DOMContentLoaded', async () => {
            const urlParams = new URLSearchParams(window.location.search);
            const isPreviewMode = urlParams.get('preview') === 'true';
            
            if (isPreviewMode) {
                loadPreviewGuide();
            } else {
                await loadGuideFromDB();
            }
        });
        
        // ë¯¸ë¦¬ë³´ê¸°: localStorageì—ì„œ HTML ë¶ˆëŸ¬ì˜¤ê¸°
        function loadPreviewGuide() {
            // ìƒˆ í¬ë§· (html ì§ì ‘ ì €ì¥)
            const htmlData = localStorage.getItem('guide_preview_html');
            if (htmlData) {
                renderHtml(htmlData);
                return;
            }

            // ê¸°ì¡´ í¬ë§· í˜¸í™˜ (sections)
            const previewData = localStorage.getItem('guide_preview');
            if (previewData) {
                try {
                    const sections = JSON.parse(previewData);
                    renderSections(sections);
                } catch (e) {
                    showError('ë¯¸ë¦¬ë³´ê¸° ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                }
                return;
            }

            showError('ë¯¸ë¦¬ë³´ê¸° ë°ì´í„°ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
        }
        
        // DBì—ì„œ ê°€ì´ë“œ ë¡œë“œ
        async function loadGuideFromDB() {
            try {
                const response = await fetch(`${SUPABASE_URL}/rest/v1/guide_content?limit=1`, {
                    headers: {
                        'apikey': SUPABASE_ANON_KEY,
                        'Authorization': `Bearer ${SUPABASE_ANON_KEY}`
                    }
                });
                const data = await response.json();
                
                if (data && data.length > 0) {
                    const guide = data[0];

                    // ìƒˆ í¬ë§·: html í•„ë“œ
                    if (guide.html) {
                        renderHtml(guide.html);
                        return;
                    }

                    // ê¸°ì¡´ í¬ë§·: content.html
                    if (guide.content && guide.content.html) {
                        renderHtml(guide.content.html);
                        return;
                    }

                    // ê¸°ì¡´ í¬ë§·: sections
                    if (guide.content && guide.content.sections) {
                        renderSections(guide.content.sections);
                        return;
                    }
                    if (guide.sections) {
                        renderSections(guide.sections);
                        return;
                    }
                }

                showDefaultContent();
            } catch (error) {
                console.error('Failed to load guide:', error);
                showDefaultContent();
            }
        }

        // HTML ì§ì ‘ ë Œë”ë§ (ìƒˆ í¬ë§·)
        function renderHtml(html) {
            const loadingState = document.getElementById('loadingState');
            const guideContent = document.getElementById('guideContent');
            
            if (loadingState) loadingState.style.display = 'none';
            guideContent.innerHTML = `<div class="guide-section">${html}</div>`;
        }
        
        // ê¸°ì¡´ ì„¹ì…˜ ë Œë”ë§ (í•˜ìœ„ í˜¸í™˜)
        function renderSections(sections) {
            const loadingState = document.getElementById('loadingState');
            const guideContent = document.getElementById('guideContent');
            
            if (loadingState) loadingState.style.display = 'none';
            
            if (!sections || sections.length === 0) {
                showDefaultContent();
                return;
            }
            
            const html = sections.map(section => `
                <div class="guide-section">
                    ${section.title ? `<h2>${escapeHtml(section.title)}</h2>` : ''}
                    ${section.content ? `<p style="white-space: pre-wrap;">${escapeHtml(section.content)}</p>` : ''}
                    ${section.image ? `<img src="${section.image}" alt="${escapeHtml(section.title || 'Guide Image')}" style="width: 100%; border-radius: 12px; margin: 20px 0; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">` : ''}
                    ${section.video ? `
                        <div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; border-radius: 12px; margin: 20px 0;">
                            <iframe src="${section.video}" 
                                    style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none;" 
                                    allowfullscreen></iframe>
                        </div>
                    ` : ''}
                </div>
            `).join('');
            
            guideContent.innerHTML = html;
        }
        
        // ê¸°ë³¸ ì½˜í…ì¸  í‘œì‹œ
        function showDefaultContent() {
            const loadingState = document.getElementById('loadingState');
            const guideContent = document.getElementById('guideContent');
            const defaultContent = document.getElementById('defaultContent');
            
            if (loadingState) loadingState.style.display = 'none';
            
            if (defaultContent) {
                guideContent.innerHTML = defaultContent.innerHTML;
                defaultContent.remove();
            }
        }
        
        // ì—ëŸ¬ í‘œì‹œ
        function showError(message) {
            const loadingState = document.getElementById('loadingState');
            const guideContent = document.getElementById('guideContent');
            
            if (loadingState) loadingState.style.display = 'none';
            
            guideContent.innerHTML = `
                <div style="text-align: center; padding: 60px 20px;">
                    <i class="fas fa-exclamation-triangle" style="font-size: 48px; color: #f59e0b; margin-bottom: 20px;"></i>
                    <p style="font-size: 16px; color: #64748b;">${message}</p>
                    <button onclick="location.reload()" style="margin-top: 20px; padding: 12px 24px; background: #9480c5; color: white; border: none; border-radius: 8px; cursor: pointer;">
                        <i class="fas fa-redo"></i> ë‹¤ì‹œ ì‹œë„
                    </button>
                </div>
            `;
        }
        
        // HTML ì´ìŠ¤ì¼€ì´í”„
        function escapeHtml(text) {
            if (!text) return '';
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
    </script>
</body>
</html>
